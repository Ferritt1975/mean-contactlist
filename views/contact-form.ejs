<div class="panel panel-primary panel-transparent">
  <div class="panel-heading">
    <h2>Create new contact</h2>
  </div>
  
  <div class="panel-body">
    <div class="row">
      <div class="col-md-8">
        <p>
          <label>First Name (required)</label> 
          <input id="name" class="form-control" type="text" ng-model="contact.firstName" required> 
        </p>
        <p>
          <label>Last Name (required)</label> 
          <input id="name" class="form-control" type="text" ng-model="contact.lastName" required> 
        </p>
        <p>
          <label>Email (required)</label> 
          <input id="name" class="form-control" type="text" ng-model="contact.email" required> 
        </p>
        <p>
          <label>Phone (Mobile)</label> 
          <input id="name" class="form-control" type="text" ng-model="contact.phone.mobile"> 
        </p>
        <p>
          <label>Phone (Work)</label> 
          <input id="name" class="form-control" type="text" ng-model="contact.phone.work"> 
        </p>
        <p>
          <label>Address</label> 
          <input id="name" class="form-control" type="text" ng-model="contact.address"> 
        </p>
        <p>
          <label>Twitter Handle</label> 
          <input id="name" class="form-control" type="text" ng-model="contact.twitter"> 
        </p>
      </div>
      <div class="col-md-4">
        <form ng-app="fileUpload" ng-controller="MyCtrl" name="form">
          Single Image with validations
          <div class="button" ngf-select ng-model="file" name="file" ngf-pattern="'image/*'" ngf-accept="'image/*'" ngf-max-size="20MB" ngf-min-height="100" ngf-resize="{width: 100, height: 100}">Select</div>
          Multiple files
          <div class="button" ngf-select ng-model="files" ngf-multiple="true">Select</div>
          Drop files: <div ngf-drop ng-model="files" class="drop-box">Drop</div>
          <button type="submit" ng-click="submit()">submit</button>
        </form>
        <p>
          <button style="margin-top:20px" class="btn btn-default" ng-click="saveContact(contact)">Save</button>
          <button style="margin-top:20px" class="btn btn-default" ng-click="back()">Back</button>
        </p>
      </div>
    </div>
  </div>
</div>

<script>
//inject angular file upload directives and services.
var app = angular.module('fileUpload', ['ngFileUpload']);

app.controller('MyCtrl', ['$scope', 'Upload', '$timeout', function ($scope, Upload, $timeout) {
    $scope.uploadPic = function(file) {
    file.upload = Upload.upload({
      url: '/upload',
      data: {file: file},
    });

    file.upload.then(function (response) {
      $timeout(function () {
        file.result = response.data;
      });
    }, function (response) {
      if (response.status > 0)
        $scope.errorMsg = response.status + ': ' + response.data;
    }, function (evt) {
      // Math.min is to fix IE which reports 200% sometimes
      file.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));
    });
    }
}]);
</script>
